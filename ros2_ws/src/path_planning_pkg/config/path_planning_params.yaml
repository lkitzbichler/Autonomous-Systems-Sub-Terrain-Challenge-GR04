path_planner:
  ros__parameters:
    use_sim_time: false

    # Topics
    command_topic: "statemachine/cmd"
    heartbeat_topic: "heartbeat"
    odom_topic: "current_state_est"
    octomap_topic: "octomap_binary"
    trajectory_topic: "trajectory"
    lantern_topic: "detected_lanterns"
    marker_topic: "path_planner/viz/markers"
    selected_path_topic: "path_planner/selected_path"
    viz_frame_id: "world"

    # Timers
    planner_period_sec: 1.0
    heartbeat_period_sec: 1.0
    parameter_refresh_period_sec: 10.0

    # Core flight tuning (runtime-updatable)
    max_v: 1.8
    max_a: 0.8
    waypoint_dist_min: 7.0
    waypoint_dist_max: 14.0
    wall_clearance_min: 2.0
    path_check_step_m: 0.15
    clearance_probe_radius_m: 5.0

    # Replan behavior
    goal_reached_radius_m: 0.9
    replan_timeout_sec: 3.0
    active_path_follow_dist_m: 2.5
    active_path_replan_progress_ratio: 0.22
    active_path_replan_front_obstacle_m: 12.0
    max_frontier_fail_cycles: 6

    # OMPL tuning
    ompl_timeout_sec: 0.35
    ompl_range_m: 2.4
    ompl_max_turn_deg: 70.0
    ompl_corner_smoothing_passes: 4
    ompl_corner_blend: 0.75
    bounds_padding_m: 1.0

    # Graph exploration tuning
    graph_backbone_spacing_m: 6.0
    graph_explore_spacing_m: 3.4
    graph_merge_dist_m: 1.6
    graph_junction_probe_dist_m: 3.5
    graph_branch_goal_dist_m: 15.0
    graph_branch_merge_dist_m: 2.0
    graph_frontier_revisit_penalty: 1.2
    graph_forward_bias_weight: 0.9
    graph_vertical_penalty_weight: 1.4
    graph_view_align_weight: 1.5
    graph_center_search_radius_m: 2.4
    graph_min_junction_free_dirs: 3
    graph_max_frontiers_per_node: 8
    centerline_horizon_points: 8
    centerline_step_m: 5.0
    centerline_slice_half_extent_m: 5.0
    centerline_slice_step_m: 0.6
    centerline_min_component_cells: 4
    centerline_max_secondary_goals: 4
    centerline_execute_dist_m: 30.0
    centerline_min_commit_dist_m: 20.0
    body_yaw_correction_deg: 180.0

    # Misc
    lantern_merge_dist_m: 1.5
    heading_hint_min_speed: 0.25
    adaptive_waypoint_step_enabled: true
    adaptive_step_clearance_range_m: 2.5
    adaptive_step_turn_weight: 0.40
    adaptive_step_min_ratio: 0.60
    traj_start_speed_max_ratio: 0.35
    traj_start_align_cos_min: 0.55
    traj_time_scale: 1.35
    marker_max_candidates: 120
